# 开发手册

## 简介

S-DES (Simplified Data Encryption）是一种简化版的DES算法，用于教学和学习加密原理和对数据进行小规模加解密操作。这是一份S-DES的开发手册，包括算法概述、算法步骤、函数接口。

### 1. 算法概述

S-DES是一种对称密钥加密算法，它采用了与DES类似的操作，但更为简化。S-DES加密过程包括以下步骤：

1. **密钥生成**：将10位的密钥通过一系列操作生成8位的子密钥
2. **初始置换**：对8位的明文进行初始置换
3. **轮函数**：将置换后的明文分为两半，对右半部分进行一系列操作如E P-bpx、使用轮密钥做异或运算、S-box、S P-box操作等
4. **最终置换**：对轮函数的输出进行最终置换，得到加密后的密文

### 2. 算法步骤

#### 2.1 密钥生成

1. 将8位密钥进行P10置换，生成10位的中间密钥。
2. 将中间密钥分为左右两部分。
3. 对左右两部分分别进行左移位操作。
4. 将左移后的两部分进行P8置换，生成8位的子密钥。

#### 2.2 初始置换

对8位明文进行初始置换，生成8位的置换后明文。

#### 2.3 F函数

1. 将置换后的明文分为左右两部分。
2. 对右半部分进行4个转换步骤：E P-bpx、使用轮密钥做异或运算、S-box、S P-box操作。
3. 将E-S盒置换后的输出与左半部分进行异或操作。

#### 2.4 最终置换

对轮函数的输出进行最终置换，生成8位的密文。

### 3. 接口

#### 3.1 密钥扩展

##### 3.1.1 P10

P10（P10置换盒）

输入参数：形参arr 10bit的密钥

输出参数：经过置换后的10bit数组

##### 3.1.2 P8

P8（P8压缩置换盒）

输入参数：形参arr  10bit的数组

输出参数：经过压缩置换后的8bit数组

##### 3.1.3 left_shift

left_shift（循环左移1位）

输入参数：形参arr  

输出参数：经循环左移1位后的数组

##### 3.1.4 generate_key

generate_key（生成轮密钥K1,K2）

输入参数：形参arr  10bit的密钥

输出参数：经过P10、左移、P8操作后形成的两个轮密钥K1，K2

#### 3.2 初始置换

initial_permutation（初始置换盒）

输入参数：形参arr  8bit明/密文

输出参数：经过置换后形成的8 bit数组

#### 3.3 最终置换

Finall_permutation（最终置换盒）

输入参数：形参arr  8bit明/密文

输出参数：经过置换后形成的8 bit数组

#### 3.4 轮函数

##### 3.4.1 E P-box

EPbox(拓展置换盒)

输入参数：形参arr 4bit数组

输出参数：经过拓展置换处理后8bit数组

##### 3.4.2 Sbox1

SBox1(替换盒)

输入参数：形参arr 4bit数组

输出参数：经过替换处理后2bit数组

##### 3.4.3 Sbox2

SBox2(替换盒)

输入参数：形参arr 4bit数组

输出参数：经过替换处理后2bit数组

##### 3.4.5 S-box

SBox(替换盒)

输入参数：形参arr 8bit数组

输出参数：经过Sbox1和Sbox2处理后4bit数组

##### 3.4.6 S P-box

##### 3.6.7 f_function

f_function（有4个转换步骤的轮函数）

输入参数：形参arr 4bit数组，轮密钥k

输出参数：经过轮函数处理后4bit数组

#### 3.5 加密函数

encode(S-DES加密算法)

输入参数：形参arr 8bit明文，10bit密钥

输出参数：经过加密后的8bit密文

#### 3.6 解密函数

encode(S-DES加密算法)

输入参数：形参arr 8bit密文，10bit密钥

输出参数：经过解密后的8bit明文

####  3.7 拓展功能

##### 3.7.1 字符串转二进制

String_change

输入参数：待加密的字符串string

输出参数：包括每个字符的二进制编码数组arr

##### 3.7.2 加密字符串

encode_str

输入参数：10bit密钥,待加密的字符串string

输出参数：经过加密后的密文字符串

##### 3.7.3 解密字符串

decode_str

输入参数：10bit密钥,待解密的字符串string

输出参数：经过解密后的明文字符串

##### 3.7.3 暴力破解

brute_force_sdes

输入参数：8bit的明密文对

输出参数：可能存在的10bit密钥

